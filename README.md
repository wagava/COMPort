# COMPort
### Project demonstrating data exchanging using COMPort. 

|*Only the example, was tested on the production*|
|-|
   - ***Radio wave level meter BARS 322/332.*** [Web site](https://bars.nt-rt.ru/)
 
     - [x] InProgress
     - [x] Done
     - [X] Tested

   #### Уровнемер радиоволновый БАРС 322МИ/332МИ.
   Драйвер позволяет получать информацию с уровнемера и выводить данные в консоль. В проекте используется 2 команды:
   - Считать измеренные данные: 4 измерения, состояния реле и код ошибки.

     Формат запроса:

| Имя данных | Тип данных    | Количество байт | Допустимое значение | Описание                             |
|:----------:|:-------------:|:---------------:|:-------------------:|--------------------------------------|
| Address    | unsigned char |        1        | 0..249,255          | Адрес ведомого в линии связи         |
| Code       |               |                 |           2         | Код команды                          |
| Length     |               |                 |           1         | Длина блока передав.информации       |
| CRC 16 Lo  |               |                 |        0..255       | Младший байт контрольной суммы CRC16 |
| CRC 16 Hi  |               |                 |        0..255       | Старший байт контрольной суммы CRC16 |


- Считать текущее измерение по отдельности: расстояние, уровень, свободное пространство, объем.
 
  Формат запроса:
  
 | Имя данных | Тип данных    | Количество байт | Допустимое значение | Описание                                                        |
 |:----------:|:-------------:|:---------------:|:-------------------:|-----------------------------------------------------------------|
 | Address    |unsigned char  |       1         |       0..249,255    | Адрес ведомого в линии связи                                    |
 | Code       |               |                 |           2         | Код команды                                                     |
 | Length     |               |                 |           1         | Длина блока передав.информации                                  |
 | Data       |               |                 |        1,2,3,6      | текущее расстояние/уровень/свободное пространство/объем         |
 | CRC 16 Lo  |               |                 |        0..255       | Младший байт контрольной суммы CRC16                            |
 | CRC 16 Hi  |               |                 |        0..255       | Старший байт контрольной суммы CRC16                            |


 #### Запуск приложения:
- Запустить консольное приложение.
- Ввести номер COM-порта.
- Ввести номер устройства (Slave ID).
---